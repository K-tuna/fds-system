version: '3.8'

# 개발 모드 오버라이드
# 사용법: docker compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  fds-api:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      # 소스 코드 마운트 (핫 리로드)
      - ./src:/app/src:ro
      - ./models:/app/models:ro
    command: ["uvicorn", "src.api.main:app", "--host", "0.0.0.0", "--port", "8000", "--reload"]
    environment:
      - MODELS_DIR=/app/models
      - PYTHONPATH=/app
